{% extends 'base.html' %}

{% block head %}
<title>Task Master</title>

{% endblock %}

{% block body %}
<div class='content'>
    <h1 style='text-align: center;'>Upload image</h1>
    <form actions='/upload-image' method='POST' enctype='multipart/form-data'>
        <div class='form-group'>
            <label>Select image</label>
            <div class='custom-file'>
                <input type='file' class='custom-file-input' name='image' id='image'>
            </div>
        </div>
        <button type='submit' class='btn btn-primary' onclick='change_text()'>Upload image</button>
    </form>
    <p id='testing'>text to be changed</p>
    <button onclick='change_text()'>
        hihihi
    </button>
</div>

<script>
    
    const Http = new XMLHttpRequest();
    const url = 'http://localhost:5000/home';
    Http.open("GET", url);
    Http.send();

    var temp = '';

    Http.onreadystatechange=(e)=>{
        console.log(Http.responseText);
        temp = Http.responseText;
    }

    function change_text(){
        var x = document.getElementById('testing');
        if (x.innerHTML === 'text to be changed'){
            x.innerHTML = String(temp);
        }
        else {
            x.innerHTML = 'text to be changed'
        }
    }

</script>
{% endblock %}