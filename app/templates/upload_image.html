{% extends 'base.html' %}

{% block head %}

<title>Task Master</title>

{% endblock %}

{% block body %}

<div class='content'>
    <h1 style='text-align: center;'>Upload image</h1>
    <form actions='/upload-image' method='POST' enctype='multipart/form-data'>
        <div class='form-group'>
            <label>Select image</label>
            <div class='custom-file'>
                <input type='file' class='custom-file-input' name='image' id='image'>
            </div>
        </div>
        <button type='submit' class='btn btn-primary'>Upload image</button>
    </form>
    <p id='testing'>text to be changed</p>
    <button onclick='change_text()'>
        hihihi
    </button>

</div>

<script>

    function change_text() {
        var url = 'http://localhost:5000/home';
        fetch(url).then(function (response) {
           return response.json(); 
        }).then(function(data) {
            arr = ["Where it began..","Greece, 400 BC", "Credited for coining the term \"atom\"","divided anymore, hello"]
            console.log(arr);

            arrToString = '';
            for (var i = 0; i< arr.length; i++){
                arrToString += arr[i] + '<br>';
            }

            var x = document.getElementById('testing');

            if (x.innerHTML === 'text to be changed') {
                // Section
                // var answer = y.replace(new RegExp('\n', 'g'), '<br>');
                x.innerHTML = arrToString;
            } else {
                x.innerHTML = 'text to be changed'
            }

        });
        
    }


</script>

{% endblock %}